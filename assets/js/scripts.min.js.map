{"version":3,"sources":["exchange.js","init-foundation.js","wp-foundation.js"],"names":["getFocusTranslate","img_placeholder","img","img_data","parentNode","dataset","h","offsetHeight","container_h","px_translate","focus_h","max_translate","translate","console","log","doFocusTranslate","translateNeg","transform","setAttribute","jQuery","document","foundation","ready","focus_img_containers","LazyLoad","elements_selector","show_while_loading","callback_load","element","querySelectorAll","i","length","img_container","getElementsByClassName","classList","contains","each","this","height","remove","last","addClass","innerWidth","innerHeight","wrap"],"mappings":"AAAA,GAAAA,mBAAA,SAAAC,EAAAC,GAEA,GADAC,SAAAF,EAAAG,WAAAC,SACAF,SACA,OAAA,CAEA,IAAAG,GAAAJ,EAAAK,aACAC,EAAAP,EAAAM,aACAE,EAAAN,SAAAO,QAAAJ,EAAAE,EAAA,EACAG,GAAAL,EAAAE,GAAAF,EAAA,IACAM,EAAAH,EAAAH,EAAA,GAUA,OARAO,SAAAC,IAAA,iBAAAR,GACAO,QAAAC,IAAA,kBAAAX,SAAAO,QAAAJ,GACAO,QAAAC,IAAA,oBAAAN,EAAA,GACAK,QAAAC,IAAA,6BAAAL,GACAI,QAAAC,IAAA,+BAAAF,GACAC,QAAAC,IAAA,wBAAAH,GAGA,EAAAF,GAAA,EAAAG,GAEA,EAGAA,EAAAD,EACAA,EAEAC,GAIAG,iBAAA,SAAAb,GACA,GAAAD,GAAAC,EAAAE,UAGA,IAFAQ,UAAAZ,kBAAAC,EAAAC,GAEAU,UAAA,CACA,GAAAI,GAAAJ,UAAA,EAAA,GAAAA,UAAAA,UACAK,EAAA,yBAAAD,EAAA,KACAd,GAAAgB,aAAA,QAAAD,ICtCAE,QAAAC,UAAAC,aCKAF,OAAAC,UAAAE,MAAA,WAWA,IAAA,GADAC,IATA,GAAAC,WACAC,kBAAA,WACAC,oBAAA,EACAC,cAAA,SAAAC,GACAb,iBAAAa,MAKAR,SAAAS,iBAAA,WACAC,EAAA,EAAAA,EAAAP,EAAAQ,OAAAD,IAAA,CACA,GAAAE,GAAAT,EAAAO,EACA5B,KAAA8B,EAAAC,uBAAA,eAAA,GACA/B,IAAAgC,UAAAC,SAAA,UACAtB,QAAAC,IAAA,0BACAC,iBAAAb,MAIAiB,OAAA,gBAAAiB,KAAA,WACAvB,QAAAC,IAAAK,OAAAkB,MAAAC,YAIAnB,OAAA,sCAAAoB,SAGApB,OAAA,0BAAAqB,OAAAC,SAAA,OAGAtB,OAAA,wDAAAiB,KAAA,WACAjB,OAAAkB,MAAAK,aAAAvB,OAAAkB,MAAAM,cAAA,IACAxB,OAAAkB,MAAAO,KAAA,wCAEAzB,OAAAkB,MAAAO,KAAA","file":"scripts.min.js","sourcesContent":["var getFocusTranslate = function( img_placeholder, img ) {\n\timg_data = img_placeholder.parentNode.dataset;\n\tif ( ! img_data ) {\n\t\treturn false;\n\t}\n\tvar h = img.offsetHeight,\n\tcontainer_h =  img_placeholder.offsetHeight,\n\tpx_translate = ( img_data.focus_h * h ) - ( container_h / 2 ),\n\tmax_translate = ( ( h - container_h ) / h ) * 100,\n\ttranslate = ( px_translate / h ) * 100;\n\n\tconsole.log( 'image height: ' + h );\n\tconsole.log( 'focus point on ' + ( img_data.focus_h * h ) );\n\tconsole.log( 'container center ' + ( container_h / 2 ) );\n\tconsole.log( 'number of pixels to move: ' + px_translate );\n\tconsole.log( 'number of percents to move: ' + translate );\n\tconsole.log( 'max percent to move: ' + max_translate );\n\t// If the center of the container is below the focus point, don't move.\n\t// Or: if the translation is downwards, don't move (we're working from top).\n\tif ( px_translate < 0 || translate < 0 ) {\n\t\t//alert( 'translation smaller than 0' );\n\t\treturn false;\n\t}\n\n\tif ( translate > max_translate ) {\n\t\treturn max_translate;\n\t} else {\n\t\treturn translate;\n\t}\n};\n\nvar doFocusTranslate = function( img ) {\n\tvar img_placeholder = img.parentNode;\n\ttranslate = getFocusTranslate( img_placeholder, img );\n\t// Keep the negative, add minus if necessary\n\tif ( translate ) {\n\t\tvar translateNeg = translate > 0 ? -1 * translate : translate,\n\t\ttransform = 'transform: translateY(' + translateNeg + '%);';\n\t\timg.setAttribute( 'style', transform );\n\t}\n};\n","jQuery(document).foundation();","/*\nThese functions make sure WordPress\nand Foundation play nice together.\n*/\n\njQuery(document).ready(function() {\n\tvar myLazyLoad = new LazyLoad({\n\t\telements_selector: \"img.lazy\",\n\t\tshow_while_loading: true,\n\t    callback_load: function( element ) {\n\t\t\tdoFocusTranslate( element );\n\t\t\t//\n\t\t}\n\t});\n\n\tvar focus_img_containers = document.querySelectorAll('.focus');\n\tfor (var i = 0; i < focus_img_containers.length; i++) {\n  \t\tvar img_container = focus_img_containers[i];\n\t\timg = img_container.getElementsByClassName('image--main')[0];\n\t\tif ( ! img.classList.contains( 'lazy' ) ) {\n\t\t\tconsole.log('no lazy image detected');\n\t\t\tdoFocusTranslate( img );\n\t\t}\n\t}\n\n\tjQuery('.image--main').each( function() {\n\t\tconsole.log( jQuery(this).height() );\n\t});\n\n    // Remove empty P tags created by WP inside of Accordion and Orbit\n    jQuery('.accordion p:empty, .orbit p:empty').remove();\n\n\t // Makes sure last grid item floats left\n\tjQuery('.archive-grid .columns').last().addClass( 'end' );\n\n\t// Adds Flex Video to YouTube and Vimeo Embeds\n  jQuery('iframe[src*=\"youtube.com\"], iframe[src*=\"vimeo.com\"]').each(function() {\n    if ( jQuery(this).innerWidth() / jQuery(this).innerHeight() > 1.5 ) {\n      jQuery(this).wrap(\"<div class='widescreen flex-video'/>\");\n    } else {\n      jQuery(this).wrap(\"<div class='flex-video'/>\");\n    }\n  });\n\n});\n"],"sourceRoot":"/source/"}