{"version":3,"sources":["exchange.js","init-foundation.js","wp-foundation.js"],"names":["getFocusTranslate","img_placeholder","img","img_data","parentNode","dataset","h","offsetHeight","container_h","px_translate","focus_h","max_translate","translate","doFocusTranslate","translateNeg","transform","setAttribute","jQuery","document","foundation","ready","focus_img_containers","querySelectorAll","i","length","img_container","getElementsByClassName","classList","contains","floated_elements","ii","equal_element","nextElementSibling","equal_h","style","height","each","console","log","this","remove","last","addClass","innerWidth","innerHeight","wrap"],"mappings":"AAAA,GAAAA,mBAAA,SAAAC,EAAAC,GAEA,GADAC,SAAAF,EAAAG,WAAAC,SACAF,SACA,OAAA,CAEA,IAAAG,GAAAJ,EAAAK,aACAC,EAAAP,EAAAM,aACAE,EAAAN,SAAAO,QAAAJ,EAAAE,EAAA,EACAG,GAAAL,EAAAE,GAAAF,EAAA,IACAM,EAAAH,EAAAH,EAAA,GAUA,OAAA,GAAAG,GAAA,EAAAG,GAEA,EAGAA,EAAAD,EACAA,EAEAC,GAIAC,iBAAA,SAAAX,GACA,GAAAD,GAAAC,EAAAE,UAGA,IAFAQ,UAAAZ,kBAAAC,EAAAC,GAEAU,UAAA,CACA,GAAAE,GAAAF,UAAA,EAAA,GAAAA,UAAAA,UACAG,EAAA,yBAAAD,EAAA,KACAZ,GAAAc,aAAA,QAAAD,ICtCAE,QAAAC,UAAAC,aCKAF,OAAAC,UAAAE,MAAA,WAGA,IAAA,GADAC,GAAAH,SAAAI,iBAAA,UACAC,EAAA,EAAAA,EAAAF,EAAAG,OAAAD,IAAA,CACA,GAAAE,GAAAJ,EAAAE,EACArB,KAAAuB,EAAAC,uBAAA,eAAA,GACAxB,IAAAyB,UAAAC,SAAA,SAEAf,iBAAAX,KAKA,IAAA,GADA2B,GAAAX,SAAAI,iBAAA,YACAQ,EAAA,EAAAA,EAAAD,EAAAL,OAAAM,IAAA,CACA,GAAAC,GAAAF,EAAAC,GAAAE,mBACA1B,EAAAuB,EAAAC,GAAAvB,aACA0B,EAAAF,EAAAxB,YAIAD,GAAA2B,IACAF,EAAAG,MAAAC,OAAA7B,EAAA,MAIAW,OAAA,gBAAAmB,KAAA,WACAC,QAAAC,IAAArB,OAAAsB,MAAAJ,YAIAlB,OAAA,sCAAAuB,SAGAvB,OAAA,0BAAAwB,OAAAC,SAAA,OAGAzB,OAAA,wDAAAmB,KAAA,WACAnB,OAAAsB,MAAAI,aAAA1B,OAAAsB,MAAAK,cAAA,IACA3B,OAAAsB,MAAAM,KAAA,wCAEA5B,OAAAsB,MAAAM,KAAA","file":"scripts.min.js","sourcesContent":["var getFocusTranslate = function( img_placeholder, img ) {\n\timg_data = img_placeholder.parentNode.dataset;\n\tif ( ! img_data ) {\n\t\treturn false;\n\t}\n\tvar h = img.offsetHeight,\n\tcontainer_h =  img_placeholder.offsetHeight,\n\tpx_translate = ( img_data.focus_h * h ) - ( container_h / 2 ),\n\tmax_translate = ( ( h - container_h ) / h ) * 100,\n\ttranslate = ( px_translate / h ) * 100;\n\n\t// console.log( 'image height: ' + h );\n\t// console.log( 'focus point on ' + ( img_data.focus_h * h ) );\n\t// console.log( 'container center ' + ( container_h / 2 ) );\n\t// console.log( 'number of pixels to move: ' + px_translate );\n\t// console.log( 'number of percents to move: ' + translate );\n\t// console.log( 'max percent to move: ' + max_translate );\n\t// If the center of the container is below the focus point, don't move.\n\t// Or: if the translation is downwards, don't move (we're working from top).\n\tif ( px_translate < 0 || translate < 0 ) {\n\t\t//alert( 'translation smaller than 0' );\n\t\treturn false;\n\t}\n\n\tif ( translate > max_translate ) {\n\t\treturn max_translate;\n\t} else {\n\t\treturn translate;\n\t}\n};\n\nvar doFocusTranslate = function( img ) {\n\tvar img_placeholder = img.parentNode;\n\ttranslate = getFocusTranslate( img_placeholder, img );\n\t// Keep the negative, add minus if necessary\n\tif ( translate ) {\n\t\tvar translateNeg = translate > 0 ? -1 * translate : translate,\n\t\ttransform = 'transform: translateY(' + translateNeg + '%);';\n\t\timg.setAttribute( 'style', transform );\n\t}\n};\n","jQuery(document).foundation();","/*\nThese functions make sure WordPress\nand Foundation play nice together.\n*/\n\njQuery(document).ready(function() {\n\n\tvar focus_img_containers = document.querySelectorAll('.focus');\n\tfor ( var i = 0; i < focus_img_containers.length; i++ ) {\n  \t\tvar img_container = focus_img_containers[i];\n\t\timg = img_container.getElementsByClassName('image--main')[0];\n\t\tif ( ! img.classList.contains( 'lazy' ) ) {\n\t\t\t//console.log('no lazy image detected');\n\t\t\tdoFocusTranslate( img );\n\t\t}\n\t}\n\n\tvar floated_elements = document.querySelectorAll('.floated');\n\tfor (var ii = 0; ii < floated_elements.length; ii++ ) {\n\t\tvar equal_element = floated_elements[ii].nextElementSibling,\n\t\th = floated_elements[ii].offsetHeight,\n\t\tequal_h = equal_element.offsetHeight;\n\t\t// console.log( floated_elements[ii] );\n\t\t// console.log( equal_element );\n\t\t// console.log( 'neighbour: ' + equal_h + ' px');\n\t\tif ( h > equal_h ) {\n\t\t\tequal_element.style.height = h + 'px';\n\t\t}\n\t}\n\n\tjQuery('.image--main').each( function() {\n\t\tconsole.log( jQuery(this).height() );\n\t});\n\n    // Remove empty P tags created by WP inside of Accordion and Orbit\n    jQuery('.accordion p:empty, .orbit p:empty').remove();\n\n\t // Makes sure last grid item floats left\n\tjQuery('.archive-grid .columns').last().addClass( 'end' );\n\n\t// Adds Flex Video to YouTube and Vimeo Embeds\n  jQuery('iframe[src*=\"youtube.com\"], iframe[src*=\"vimeo.com\"]').each(function() {\n    if ( jQuery(this).innerWidth() / jQuery(this).innerHeight() > 1.5 ) {\n      jQuery(this).wrap(\"<div class='widescreen flex-video'/>\");\n    } else {\n      jQuery(this).wrap(\"<div class='flex-video'/>\");\n    }\n  });\n\n});\n"],"sourceRoot":"/source/"}