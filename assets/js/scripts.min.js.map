{"version":3,"sources":["wp-foundation.js","exchange.js","init-foundation.js"],"names":["handleScroll","previousScroll","pageYOffset","jQuery","window","scroll","currentScroll","this","scrollTop","console","log","removeClass","addClass","getFocusTranslate","img_placeholder","img","img_data","parentNode","dataset","h","offsetHeight","container_h","px_translate","focus_h","max_translate","translate","doFocusTranslate","translateNeg","transform","setAttribute","document","foundation","ready","focus_img_containers","querySelectorAll","i","length","img_container","getElementsByClassName","classList","contains","floated_elements","ii","equal_element","nextElementSibling","equal_h","style","height","each","select","find","on","doLanguageSwitch","lang","index","element","hasClass","value","wrapper","parent","paragraphs","children","remove","last","innerWidth","innerHeight","wrap"],"mappings":"AAIA,QAAAA,gBACA,GAAAC,GAAAC,WACAC,QAAAC,QAAAC,OAAA,WACA,GAAAC,GAAAH,OAAAI,MAAAC,WAMAP,GAAAK,EACAJ,YAAA,KACAO,QAAAC,IAAA,UACAP,OAAA,oBAAAQ,YAAA,cAEAF,QAAAC,IAAA,WACAP,OAAA,oBAAAS,SAAA,eCnBA,GAAAC,mBAAA,SAAAC,EAAAC,GAEA,GADAC,SAAAF,EAAAG,WAAAC,SACAF,SACA,OAAA,CAEA,IAAAG,GAAAJ,EAAAK,aACAC,EAAAP,EAAAM,aACAE,EAAAN,SAAAO,QAAAJ,EAAAE,EAAA,EACAG,GAAAL,EAAAE,GAAAF,EAAA,IACAM,EAAAH,EAAAH,EAAA,GAUA,SAAAG,EAAA,GAAAG,EAAA,KAKAA,EAAAD,EACAA,EAEAC,IAIAC,iBAAA,SAAAX,GACA,GAAAD,GAAAC,EAAAE,UAGA,IAFAQ,UAAAZ,kBAAAC,EAAAC,GAEAU,UAAA,CACA,GAAAE,GAAAF,UAAA,KAAAA,UAAAA,UACAG,EAAA,yBAAAD,EAAA,KACAZ,GAAAc,aAAA,QAAAD,ICtCAzB,QAAA2B,UAAAC,aFyBA5B,OAAA2B,UAAAE,MAAA,WAOA,IAAA,GADAC,GAAAH,SAAAI,iBAAA,UACAC,EAAA,EAAAA,EAAAF,EAAAG,OAAAD,IAAA,CACA,GAAAE,GAAAJ,EAAAE,EACApB,KAAAsB,EAAAC,uBAAA,eAAA,GACAvB,IAAAwB,UAAAC,SAAA,SAEAd,iBAAAX,KAKA,IAAA,GADA0B,GAAAX,SAAAI,iBAAA,YACAQ,EAAA,EAAAA,EAAAD,EAAAL,OAAAM,IAAA,CACA,GAAAC,GAAAF,EAAAC,GAAAE,mBACAzB,EAAAsB,EAAAC,GAAAtB,aACAyB,EAAAF,EAAAvB,YAIAD,GAAA0B,IACAF,EAAAG,MAAAC,OAAA5B,EAAA,MASAhB,OAAA,0CAAA6C,KAAA,WACA,GAAAC,GAAA9C,OAAAI,MAAA2C,KAAA,sBACAD,GAAAE,GAAA,SAAA,WAEA,QAAAC,GAAAC,GACA,MAAA,UAAAC,EAAAC,GACApD,OAAAI,MAAAI,YAAA,QACAR,OAAAI,MAAAiD,SAAAH,IACAlD,OAAAI,MAAAK,SAAA,SALA,GAAAyC,GAAA,cAAA9C,KAAAkD,MASAC,EAAAvD,OAAAI,MAAAoD,SAAAA,OAAA,yCACAC,YAAAF,EAAAG,SAAA,mCACAD,WAAAZ,KAAAI,EAAAC,QAIAlD,OAAA,gBAAA6C,KAAA,WACAvC,QAAAC,IAAAP,OAAAI,MAAAwC,aAGA5C,OAAA,QAAAqD,SAAA,WAAArD,OAAA,QAAAqD,SAAA,gBACArD,OAAA,SAAAgD,GAAA,sBAAAnD,cAIAG,OAAA,sCAAA2D,SAGA3D,OAAA,0BAAA,wBAAA4D,OAAAnD,SAAA,OAGAT,OAAA,wDAAA6C,KAAA,WACA7C,OAAAI,MAAAyD,aAAA7D,OAAAI,MAAA0D,cAAA,IACA9D,OAAAI,MAAA2D,KAAA,wCAEA/D,OAAAI,MAAA2D,KAAA","file":"scripts.min.js","sourcesContent":["/*\nThese functions make sure WordPress\nand Foundation play nice together.\n*/\nfunction handleScroll() {\n\tvar previousScroll = pageYOffset;\n\tjQuery(window).scroll(function(){\n\t\tvar currentScroll = jQuery(this).scrollTop();\n\t\tif (currentScroll > previousScroll){\n\t\t\t//console.log('down');\n\t\t} else {\n\t\t\t//console.log('up');\n\t\t}\n\t\tpreviousScroll = currentScroll;\n\t\tif ( pageYOffset < 100 ) {\n\t\t\tconsole.log( 'hiding' );\n\t\t\tjQuery('.breadcrumbs-bar').removeClass('scrolled');\n\t\t} else {\n\t\t\tconsole.log( 'showing' );\n\t\t\tjQuery('.breadcrumbs-bar').addClass('scrolled');\n\t\t}\n\n\t});\n}\n\njQuery(document).ready(function() {\n\n\t// jQuery(document).on('open.zf.reveal', function() {\n\t// \tjQuery(document).foundation('orbit', 'reflow');\n\t// });\n\n\tvar focus_img_containers = document.querySelectorAll('.focus');\n\tfor ( var i = 0; i < focus_img_containers.length; i++ ) {\n  \t\tvar img_container = focus_img_containers[i];\n\t\timg = img_container.getElementsByClassName('image--main')[0];\n\t\tif ( ! img.classList.contains( 'lazy' ) ) {\n\t\t\t//console.log('no lazy image detected');\n\t\t\tdoFocusTranslate( img );\n\t\t}\n\t}\n\n\tvar floated_elements = document.querySelectorAll('.floated');\n\tfor (var ii = 0; ii < floated_elements.length; ii++ ) {\n\t\tvar equal_element = floated_elements[ii].nextElementSibling,\n\t\th = floated_elements[ii].offsetHeight,\n\t\tequal_h = equal_element.offsetHeight;\n\t\t// console.log( floated_elements[ii] );\n\t\t// console.log( equal_element );\n\t\t// console.log( 'neighbour: ' + equal_h + ' px');\n\t\tif ( h > equal_h ) {\n\t\t\tequal_element.style.height = h + 'px';\n\t\t}\n\t}\n\n/* \tjQuery('#gform_6 #input_6_7').change(function(){\n    var attendees = jQuery(this).val();\n    gfRepeater_setRepeater(6, 1, attendees);\n}); */\n\n\tjQuery('.translatedparagraph--has_translations').each( function() {\n\t\tvar select = jQuery( this ).find('.translation-select');\n\t\tselect.on('change', function() {\n\t\t\tvar lang = 'paragraph--' + this.value;\n\t\t\tfunction doLanguageSwitch( lang ) {\n\t\t\t\treturn function( index, element) {\n\t\t\t\t\tjQuery( this ).removeClass('show');\n\t\t\t\t\tif ( jQuery( this ).hasClass( lang ) ) {\n\t\t\t\t\t\tjQuery( this ).addClass('show');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar wrapper = jQuery( this ).parent().parent('.translatedparagraph--has_translations');\n\t\t\tparagraphs = wrapper.children('.translatedparagraph__paragraph');\n\t\t\tparagraphs.each( doLanguageSwitch( lang ) );\n\t\t});\n\t});\n\n\tjQuery('.image--main').each( function() {\n\t\tconsole.log( jQuery(this).height() );\n\t});\n\n\tif ( jQuery('body').hasClass('single') || jQuery('body').hasClass('page-child') ) {\n\t\tjQuery('#main').on('scrollme.zf.trigger',handleScroll);\n\t}\n\n    // Remove empty P tags created by WP inside of Accordion and Orbit\n    jQuery('.accordion p:empty, .orbit p:empty').remove();\n\n\t // Makes sure last grid item floats left\n\tjQuery('.archive__grid .columns', 'relatedgrid .columns').last().addClass( 'end' );\n\n\t// Adds Flex Video to YouTube and Vimeo Embeds\n  jQuery('iframe[src*=\"youtube.com\"], iframe[src*=\"vimeo.com\"]').each(function() {\n    if ( jQuery(this).innerWidth() / jQuery(this).innerHeight() > 1.5 ) {\n      jQuery(this).wrap(\"<div class='widescreen flex-video'/>\");\n    } else {\n      jQuery(this).wrap(\"<div class='flex-video'/>\");\n    }\n  });\n\n});\n","var getFocusTranslate = function( img_placeholder, img ) {\n\timg_data = img_placeholder.parentNode.dataset;\n\tif ( ! img_data ) {\n\t\treturn false;\n\t}\n\tvar h = img.offsetHeight,\n\tcontainer_h =  img_placeholder.offsetHeight,\n\tpx_translate = ( img_data.focus_h * h ) - ( container_h / 2 ),\n\tmax_translate = ( ( h - container_h ) / h ) * 100,\n\ttranslate = ( px_translate / h ) * 100;\n\n\t// console.log( 'image height: ' + h );\n\t// console.log( 'focus point on ' + ( img_data.focus_h * h ) );\n\t// console.log( 'container center ' + ( container_h / 2 ) );\n\t// console.log( 'number of pixels to move: ' + px_translate );\n\t// console.log( 'number of percents to move: ' + translate );\n\t// console.log( 'max percent to move: ' + max_translate );\n\t// If the center of the container is below the focus point, don't move.\n\t// Or: if the translation is downwards, don't move (we're working from top).\n\tif ( px_translate < 0 || translate < 0 ) {\n\t\t//alert( 'translation smaller than 0' );\n\t\treturn false;\n\t}\n\n\tif ( translate > max_translate ) {\n\t\treturn max_translate;\n\t} else {\n\t\treturn translate;\n\t}\n};\n\nvar doFocusTranslate = function( img ) {\n\tvar img_placeholder = img.parentNode;\n\ttranslate = getFocusTranslate( img_placeholder, img );\n\t// Keep the negative, add minus if necessary\n\tif ( translate ) {\n\t\tvar translateNeg = translate > 0 ? -1 * translate : translate,\n\t\ttransform = 'transform: translateY(' + translateNeg + '%);';\n\t\timg.setAttribute( 'style', transform );\n\t}\n};\n","jQuery(document).foundation();"],"sourceRoot":"/source/"}